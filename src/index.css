@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   Nuclear Marmalade Website — Custom Styles
   ============================================ */

/* ============================================
   Navigation — Immersive Full-Screen Overlay
   ============================================ */

/* ---------- Navbar — Trigger Icon (Kinetic Data Icon) ---------- */
.nav-trigger {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-end;
  gap: 5px;
  width: 36px;
  height: 36px;
  padding: 6px;
  background: none;
  border: 1px solid rgba(253, 252, 240, 0.08);
  border-radius: 8px;
  cursor: pointer;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  transition: border-color 0.3s ease, background 0.3s ease;
  z-index: 110;
}
.nav-trigger:hover {
  border-color: rgba(255, 184, 0, 0.25);
  background: rgba(255, 184, 0, 0.04);
}
.nav-trigger-bar {
  display: block;
  height: 1.5px;
  background: rgba(253, 252, 240, 0.7);
  border-radius: 1px;
  transform-origin: center center;
  transition: background 0.3s ease;
}
.nav-trigger-bar:nth-child(1) { width: 20px; }
.nav-trigger-bar:nth-child(2) { width: 14px; }
.nav-trigger-bar:nth-child(3) { width: 20px; }
.nav-trigger:hover .nav-trigger-bar {
  background: rgba(255, 184, 0, 0.8);
}

/* ---------- Navbar — Live Status Tag ---------- */
.nav-live-tag {
  display: flex;
  align-items: center;
  gap: 6px;
}
.nav-live-dot {
  display: inline-block;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #ffb800;
  box-shadow:
    0 0 4px rgba(255, 184, 0, 0.9),
    0 0 10px rgba(255, 184, 0, 0.4);
  animation: statusPulse 2s ease-in-out infinite;
}
.nav-live-text {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.35);
}

/* ---------- Navbar — Section Index Counter ---------- */
.nav-section-index {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.15em;
  color: rgba(255, 184, 0, 0.65);
  padding-bottom: 4px;
  transition: color 0.4s ease;
}

/* ---------- Full-Screen Overlay ---------- */
.nav-overlay {
  position: fixed;
  inset: 0;
  z-index: 90;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  padding: 120px 8% 60px;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(48px) saturate(1.3) brightness(0.5);
  -webkit-backdrop-filter: blur(48px) saturate(1.3) brightness(0.5);
  opacity: 0;
}

/* ---------- CRT Scan-line Grain ---------- */
.nav-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.04;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
  animation: grainDrift 0.5s steps(4) infinite;
}
/* Horizontal scan lines */
.nav-grain::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent 0px,
    transparent 2px,
    rgba(255, 255, 255, 0.015) 2px,
    rgba(255, 255, 255, 0.015) 4px
  );
  pointer-events: none;
}

/* ---------- Dynamic Hover Preview ---------- */
.nav-hover-preview {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}
.nav-preview-layer {
  position: absolute;
  inset: 0;
  transition: opacity 0.5s ease;
  opacity: 0;
}
/* Each link hover shows a different abstract background */
.nav-preview-layer[data-idx="0"] {
  background: radial-gradient(ellipse 80% 60% at 70% 40%,
    rgba(255, 184, 0, 0.06) 0%, transparent 70%);
}
.nav-preview-layer[data-idx="1"] {
  /* Wireframe grid — technical blueprint feel */
  background:
    linear-gradient(rgba(124, 180, 232, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(124, 180, 232, 0.04) 1px, transparent 1px),
    radial-gradient(ellipse 80% 60% at 60% 50%,
      rgba(124, 180, 232, 0.06) 0%, transparent 70%);
  background-size: 60px 60px, 60px 60px, 100% 100%;
  animation: wireframeDrift 8s linear infinite;
}
@keyframes wireframeDrift {
  0% { background-position: 0 0, 0 0, center; }
  100% { background-position: 60px 60px, 60px 60px, center; }
}
.nav-preview-layer[data-idx="2"] {
  background: radial-gradient(ellipse 70% 50% at 75% 35%,
    rgba(255, 184, 0, 0.04) 0%, transparent 60%),
    radial-gradient(ellipse 50% 40% at 30% 70%,
    rgba(124, 180, 232, 0.04) 0%, transparent 60%);
}
.nav-preview-layer[data-idx="3"] {
  background: radial-gradient(ellipse 60% 80% at 65% 45%,
    rgba(200, 60, 30, 0.04) 0%, transparent 70%);
}
.nav-preview-layer[data-idx="4"] {
  background: radial-gradient(ellipse 90% 70% at 50% 50%,
    rgba(255, 184, 0, 0.08) 0%, transparent 60%);
}

/* ---------- Link Stack ---------- */
.nav-link-stack {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  gap: 0;
  width: 100%;
  max-width: 900px;
}

.nav-link-item {
  display: flex;
  align-items: baseline;
  gap: 24px;
  padding: 18px 0;
  text-decoration: none;
  cursor: pointer;
  border-bottom: 1px solid rgba(253, 252, 240, 0.04);
  transition: border-color 0.3s ease;
  will-change: transform;
}
.nav-link-item:first-child {
  border-top: 1px solid rgba(253, 252, 240, 0.04);
}
.nav-link-item:hover {
  border-bottom-color: rgba(255, 184, 0, 0.12);
}

/* Index number */
.nav-link-index {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.15em;
  color: rgba(253, 252, 240, 0.2);
  min-width: 28px;
  transition: color 0.3s ease;
}
.nav-link-item:hover .nav-link-index {
  color: rgba(255, 184, 0, 0.5);
}

/* Link label — variable font weight shift */
.nav-link-label {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(2.8rem, 6vw, 5rem);
  font-weight: 200;
  letter-spacing: -0.02em;
  line-height: 1.1;
  color: rgba(253, 252, 240, 0.65);
  transition:
    font-weight 0.4s ease,
    color 0.3s ease,
    text-shadow 0.3s ease,
    letter-spacing 0.3s ease;
  /* font-variation-settings to avoid jiggle */
  font-variation-settings: 'wght' 200;
}
.nav-link-item:hover .nav-link-label {
  font-weight: 700;
  font-variation-settings: 'wght' 700;
  color: #fdfcf0;
  letter-spacing: -0.03em;
  text-shadow:
    0 0 20px rgba(255, 184, 0, 0.25),
    0 0 60px rgba(255, 184, 0, 0.1),
    0.5px 0 0.5px rgba(255, 184, 0, 0.08),
    -0.5px 0 0.5px rgba(200, 60, 30, 0.06);
}

/* Active link (current page) — persistent amber dot */
.nav-link-item[data-active="true"] .nav-link-index::before {
  content: '';
  display: inline-block;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #ffb800;
  box-shadow: 0 0 6px rgba(255, 184, 0, 0.8);
  margin-right: 8px;
  vertical-align: middle;
}

/* ---------- Bottom Bar — Social + System ---------- */
.nav-bottom-bar {
  position: absolute;
  bottom: 40px;
  left: 8%;
  right: 8%;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}

/* Terminal divider */
.nav-terminal-divider {
  width: 100%;
  height: 1px;
  background: linear-gradient(
    to right,
    rgba(253, 252, 240, 0.12) 0%,
    rgba(253, 252, 240, 0.04) 60%,
    transparent 100%
  );
  margin-bottom: 16px;
}

/* Social links — monospace micro */
.nav-social-links {
  display: flex;
  gap: 24px;
}
.nav-social-link {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.3);
  text-decoration: none;
  transition: color 0.3s ease;
}
.nav-social-link:hover {
  color: rgba(255, 184, 0, 0.8);
}

/* System status — right side */
.nav-system-status {
  display: flex;
  align-items: center;
  gap: 8px;
}
.nav-status-dot {
  display: inline-block;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #ffb800;
  box-shadow: 0 0 4px rgba(255, 184, 0, 0.8);
  animation: statusPulse 2s ease-in-out infinite;
}
.nav-status-text {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.25);
}
.nav-status-divider {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  color: rgba(253, 252, 240, 0.1);
}

/* ---------- Nav Mobile Adjustments ---------- */
@media (max-width: 640px) {
  .nav-overlay {
    padding: 100px 6% 50px;
  }
  .nav-link-item {
    gap: 14px;
    padding: 14px 0;
  }
  .nav-link-label {
    font-size: clamp(1.8rem, 8vw, 2.6rem);
  }
  .nav-bottom-bar {
    flex-direction: column;
    gap: 16px;
    left: 6%;
    right: 6%;
    bottom: 24px;
  }
  .nav-system-status {
    justify-content: flex-start;
  }
}

/* ============================================
   Capabilities — Bento-Grid Command Terminal
   ============================================ */

/* ---------- Section Header ---------- */
.cap-section-tag {
  display: inline-block;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #fbbf24;
  margin-bottom: 16px;
}
.cap-section-title {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(2.5rem, 8vw, 5.5rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 0.95;
  color: #FDFCF0;
  text-shadow:
    1px 0 0 rgba(255, 50, 50, 0.15),
    -1px 0 0 rgba(50, 100, 255, 0.15);
}
.cap-section-sub {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 15px;
  font-weight: 400;
  line-height: 1.65;
  color: #a1a1aa;
  margin-top: 16px;
  max-width: 480px;
}

/* ---------- Ambient Nebula — slow amber cloud behind cards ---------- */
.cap-nebula {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  will-change: transform;
  transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  background:
    radial-gradient(ellipse 600px 500px at 30% 35%, rgba(255, 184, 0, 0.04) 0%, transparent 70%),
    radial-gradient(ellipse 500px 400px at 70% 65%, rgba(255, 184, 0, 0.03) 0%, transparent 70%),
    radial-gradient(ellipse 300px 300px at 50% 50%, rgba(255, 140, 0, 0.02) 0%, transparent 60%);
}

/* ---------- Vertical Anchor Line (hero continuity) — HIDDEN ---------- */
.cap-anchor-line {
  display: none;
}
.cap-anchor-line.cap-anchor-pulse {
  display: none;
}

/* ---------- Scroll Progress — HIDDEN ---------- */
.cap-anchor-progress {
  display: none;
}

/* ---------- Live Log Ticker — system data stream ---------- */
.cap-ticker {
  position: relative;
  z-index: 9;
  overflow: hidden;
  border-top: 1px solid rgba(255, 184, 0, 0.12);
  padding: 12px 0;
}
.cap-ticker-track {
  display: flex;
  gap: 56px;
  white-space: nowrap;
  animation: tickerScroll 30s linear infinite;
}
.cap-ticker-track span {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.28);
  flex-shrink: 0;
}
@keyframes tickerScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* ---------- Bento Grid ---------- */
.cap-grid {
  display: grid;
  grid-template-columns: 1.15fr 0.85fr;
  grid-template-rows: auto auto;
  gap: 28px;
}
/* Intentional asymmetry — right column drops 40px for boutique stagger */
@media (min-width: 769px) {
  .cap-grid > .cap-card:nth-child(2) {
    margin-top: 40px;
  }
  .cap-grid > .cap-card:nth-child(4) {
    margin-top: 40px;
  }
}
@media (max-width: 768px) {
  .cap-grid {
    grid-template-columns: 1fr;
  }
}

/* ---------- Floor Reflection — spatial depth illusion ---------- */
.cap-floor-reflection {
  height: 80px;
  margin-top: -8px;
  background: linear-gradient(
    to bottom,
    rgba(255, 184, 0, 0.03) 0%,
    transparent 100%
  );
  filter: blur(20px);
  opacity: 0.6;
  pointer-events: none;
  mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 100%);
}

/* ---------- Capability Card — Octagonal Notched Geometry ---------- */
.cap-card {
  --notch: 15px;
  position: relative;
  overflow: hidden;
  background: rgba(9, 9, 11, 0.5);
  backdrop-filter: blur(30px) saturate(1.6);
  -webkit-backdrop-filter: blur(30px) saturate(1.6);
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  transition:
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    backdrop-filter 0.4s ease;
  will-change: transform;
}
.cap-card:hover {
  transform: translateY(-3px) scale(1.01);
  backdrop-filter: blur(40px) saturate(1.8) brightness(0.75);
  -webkit-backdrop-filter: blur(40px) saturate(1.8) brightness(0.75);
}

/* ---------- Light Leak — shutter flash on hover ---------- */
.cap-card::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 10;
  opacity: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 184, 0, 0.2) 50%,
    transparent 100%
  );
}
.cap-card:hover::after {
  animation: lightLeak 0.25s ease-out;
}
@keyframes lightLeak {
  0% { opacity: 0.5; }
  30% { opacity: 0.2; }
  100% { opacity: 0; }
}

/* ---------- Per-Card Scanline ---------- */
.cap-card-scanline {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(253, 252, 240, 0.04) 30%,
    rgba(255, 184, 0, 0.06) 50%,
    rgba(253, 252, 240, 0.04) 70%,
    transparent 100%
  );
  z-index: 6;
  pointer-events: none;
  opacity: 0.5;
  animation: cardScanline 5s linear infinite;
}
@keyframes cardScanline {
  0% { top: 0; }
  100% { top: 100%; }
}

/* ---------- Progress Bar Border — draws on scroll entrance ---------- */
.cap-progress-bar {
  position: absolute;
  top: 0;
  left: 0;
  height: 1px;
  width: 0%;
  background: linear-gradient(
    to right,
    rgba(255, 184, 0, 0.6) 0%,
    rgba(255, 184, 0, 0.3) 80%,
    transparent 100%
  );
  z-index: 7;
  pointer-events: none;
  transition: none;
}
.cap-card.cap-visible .cap-progress-bar {
  animation: borderDraw 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
}
@keyframes borderDraw {
  0% { width: 0%; opacity: 1; }
  80% { width: 100%; opacity: 0.8; }
  100% { width: 100%; opacity: 0.3; }
}

/* ---------- Scan-line — drifts down the section ---------- */
.cap-scanline {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 184, 0, 0.08) 20%,
    rgba(253, 252, 240, 0.06) 50%,
    rgba(255, 184, 0, 0.08) 80%,
    transparent 100%
  );
  z-index: 6;
  pointer-events: none;
  animation: scanlineDrift 8s linear infinite;
}
@keyframes scanlineDrift {
  0% { top: 0; }
  100% { top: 100%; }
}

/* ---------- Ghost Index — massive blueprint numbers ---------- */
.cap-ghost-idx {
  position: absolute;
  right: 20px;
  bottom: -20px;
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(120px, 15vw, 200px);
  font-weight: 700;
  line-height: 1;
  letter-spacing: -0.04em;
  color: rgba(253, 252, 240, 0.03);
  pointer-events: none;
  z-index: 0;
  user-select: none;
  transition: color 0.5s ease;
}
.cap-card:hover .cap-ghost-idx {
  color: rgba(255, 184, 0, 0.05);
}

/* ---------- Bracket Corner Frames ---------- */
.cap-bracket {
  position: absolute;
  width: 16px;
  height: 16px;
  z-index: 5;
  pointer-events: none;
  opacity: 0.2;
  transition: opacity 0.3s ease;
}
.cap-card:hover .cap-bracket {
  opacity: 0.5;
}
.cap-bracket-tl {
  top: 8px;
  left: 8px;
  border-top: 1px solid rgba(253, 252, 240, 0.4);
  border-left: 1px solid rgba(253, 252, 240, 0.4);
}
.cap-bracket-tr {
  top: 8px;
  right: 8px;
  border-top: 1px solid rgba(253, 252, 240, 0.4);
  border-right: 1px solid rgba(253, 252, 240, 0.4);
}
.cap-bracket-bl {
  bottom: 8px;
  left: 8px;
  border-bottom: 1px solid rgba(253, 252, 240, 0.4);
  border-left: 1px solid rgba(253, 252, 240, 0.4);
}
.cap-bracket-br {
  bottom: 8px;
  right: 8px;
  border-bottom: 1px solid rgba(253, 252, 240, 0.4);
  border-right: 1px solid rgba(253, 252, 240, 0.4);
}

/* ---------- Hover Chromatic Flick ---------- */
.cap-card:hover .cap-title {
  text-shadow:
    0 0 20px rgba(255, 184, 0, 0.15),
    0 0 40px rgba(255, 184, 0, 0.06);
  animation: chromFlick 0.15s ease-out;
}
@keyframes chromFlick {
  0% {
    text-shadow:
      1px 0 rgba(255, 184, 0, 0.3),
      -1px 0 rgba(124, 180, 232, 0.2),
      0 0 20px rgba(255, 184, 0, 0.15);
  }
  50% {
    text-shadow:
      -0.5px 0 rgba(200, 60, 30, 0.2),
      0.5px 0 rgba(124, 180, 232, 0.15),
      0 0 20px rgba(255, 184, 0, 0.15);
  }
  100% {
    text-shadow:
      0 0 20px rgba(255, 184, 0, 0.15),
      0 0 40px rgba(255, 184, 0, 0.06);
  }
}

/* ---------- Glow Border — corner-bright gradient ---------- */
.cap-border {
  position: absolute;
  inset: 0;
  padding: 1px;
  background: conic-gradient(
    from 45deg,
    rgba(255, 184, 0, 0.35) 0deg,
    rgba(255, 184, 0, 0.06) 45deg,
    rgba(253, 252, 240, 0.04) 90deg,
    rgba(255, 184, 0, 0.06) 135deg,
    rgba(255, 184, 0, 0.35) 180deg,
    rgba(255, 184, 0, 0.06) 225deg,
    rgba(253, 252, 240, 0.04) 270deg,
    rgba(255, 184, 0, 0.06) 315deg,
    rgba(255, 184, 0, 0.35) 360deg
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  z-index: 3;
  opacity: 0.5;
  transition: opacity 0.4s ease;
}
.cap-card:hover .cap-border {
  opacity: 1;
  background: conic-gradient(
    from 45deg,
    rgba(255, 184, 0, 0.7) 0deg,
    rgba(255, 184, 0, 0.12) 45deg,
    rgba(253, 252, 240, 0.08) 90deg,
    rgba(255, 184, 0, 0.12) 135deg,
    rgba(255, 184, 0, 0.7) 180deg,
    rgba(255, 184, 0, 0.12) 225deg,
    rgba(253, 252, 240, 0.08) 270deg,
    rgba(255, 184, 0, 0.12) 315deg,
    rgba(255, 184, 0, 0.7) 360deg
  );
}

/* ---------- Mouse-Tracking Glow ---------- */
.cap-glow {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  transition: background 0.2s ease;
}

/* ---------- Glass Noise Overlay ---------- */
.cap-noise {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.05;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
}

/* ---------- Wireframe Reveal (hover) ---------- */
.cap-wireframe {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0;
  transition: opacity 0.5s ease;
}
.cap-card:hover .cap-wireframe {
  opacity: 1;
}

/* Waveform — for Neural Voice */
.cap-wireframe-waveform {
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 3px,
      rgba(255, 184, 0, 0.03) 3px,
      rgba(255, 184, 0, 0.03) 4px
    ),
    radial-gradient(ellipse 80% 40% at 50% 70%,
      rgba(255, 184, 0, 0.05) 0%, transparent 70%);
  animation: waveformPulse 3s ease-in-out infinite;
}
@keyframes waveformPulse {
  0%, 100% { background-position: 0 0; }
  50% { background-position: 4px 0; }
}

/* Nodes — for Logic Clusters */
.cap-wireframe-nodes {
  background:
    radial-gradient(circle 2px at 20% 30%, rgba(124, 180, 232, 0.15) 0%, transparent 100%),
    radial-gradient(circle 2px at 50% 60%, rgba(124, 180, 232, 0.15) 0%, transparent 100%),
    radial-gradient(circle 2px at 75% 25%, rgba(124, 180, 232, 0.15) 0%, transparent 100%),
    radial-gradient(circle 2px at 35% 80%, rgba(124, 180, 232, 0.12) 0%, transparent 100%),
    radial-gradient(circle 2px at 80% 70%, rgba(124, 180, 232, 0.12) 0%, transparent 100%),
    linear-gradient(135deg, transparent 49.5%, rgba(124, 180, 232, 0.04) 49.5%, rgba(124, 180, 232, 0.04) 50.5%, transparent 50.5%),
    linear-gradient(45deg, transparent 49.5%, rgba(124, 180, 232, 0.03) 49.5%, rgba(124, 180, 232, 0.03) 50.5%, transparent 50.5%);
}

/* Grid — for Support Ecosystems */
.cap-wireframe-grid {
  background:
    linear-gradient(rgba(253, 252, 240, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(253, 252, 240, 0.02) 1px, transparent 1px);
  background-size: 40px 40px;
  animation: gridDrift 6s linear infinite;
}
@keyframes gridDrift {
  0% { background-position: 0 0; }
  100% { background-position: 40px 40px; }
}

/* Matrix — for Data Architecture */
.cap-wireframe-matrix {
  background:
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 11px,
      rgba(255, 184, 0, 0.02) 11px,
      rgba(255, 184, 0, 0.02) 12px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 11px,
      rgba(255, 184, 0, 0.015) 11px,
      rgba(255, 184, 0, 0.015) 12px
    ),
    radial-gradient(ellipse 60% 50% at 70% 40%,
      rgba(255, 184, 0, 0.04) 0%, transparent 60%);
  animation: matrixScroll 10s linear infinite;
}
@keyframes matrixScroll {
  0% { background-position: 0 0, 0 0, center; }
  100% { background-position: 0 -120px, 120px 0, center; }
}

/* ---------- Card Content ---------- */
.cap-content {
  position: relative;
  z-index: 4;
  padding: 32px 28px 28px;
  display: flex;
  flex-direction: column;
  min-height: 240px;
}

/* System readouts — monospaced micro data */
.cap-readouts {
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
}
.cap-readout {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.28);
  transition: color 0.3s ease;
}
.cap-card:hover .cap-readout {
  color: rgba(255, 184, 0, 0.7);
}

/* Card index */
.cap-idx {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  color: rgba(255, 184, 0, 0.75);
  margin-bottom: 12px;
}

/* Card title */
.cap-title {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(1.25rem, 2.5vw, 1.6rem);
  font-weight: 600;
  letter-spacing: -0.02em;
  line-height: 1.15;
  color: #fdfcf0;
  margin-bottom: 12px;
  transition: text-shadow 0.3s ease;
}
/* Micro-UI — decorative structural data string */
.cap-micro-ui {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 7px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.2);
  margin-top: 8px;
  transition: color 0.3s ease;
}
.cap-card:hover .cap-micro-ui {
  color: rgba(255, 184, 0, 0.55);
}

/* Card description */
.cap-desc {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.65;
  color: #a1a1aa;
  margin-top: auto;
  transition: color 0.3s ease;
}
.cap-card:hover .cap-desc {
  color: #c4c4cc;
}

/* ---------- Differential Parallax Layers ---------- */
.cap-parallax-title,
.cap-parallax-body {
  will-change: transform;
}
.cap-parallax-body {
  margin-top: auto;
}

/* ---------- Bottom Hover Bar — expanding amber line ---------- */
.cap-hover-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 2px;
  width: 48px;
  background: linear-gradient(
    to right,
    rgba(255, 184, 0, 0.25) 0%,
    rgba(255, 184, 0, 0.1) 100%
  );
  z-index: 7;
  pointer-events: none;
  transition: width 0.7s cubic-bezier(0.4, 0, 0.2, 1), background 0.5s ease;
}
.cap-card:hover .cap-hover-bar {
  width: 100%;
  background: linear-gradient(
    to right,
    rgba(255, 184, 0, 0.5) 0%,
    rgba(255, 184, 0, 0.2) 100%
  );
}

/* ---------- Global Cinematic Grain — full-section film texture ---------- */
.cap-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 8;
  opacity: 0.05;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  animation: grainDrift 0.5s steps(4) infinite;
}

/* ---------- Dithered Glow Border — stippled amber burn ---------- */
.cap-border::after {
  content: '';
  position: absolute;
  inset: -1px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s ease;
  /* Dithered pattern — tiny dots simulate analog gradient burn */
  background-image:
    radial-gradient(circle 1px at 0% 0%, rgba(255, 184, 0, 0.4) 0.5px, transparent 0.5px);
  background-size: 3px 3px;
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 2px;
}
.cap-card:hover .cap-border::after {
  opacity: 0.6;
}

/* ---------- Capabilities Mobile ---------- */
@media (max-width: 768px) {
  .cap-content {
    padding: 24px 20px 20px;
    min-height: 200px;
  }
  .cap-anchor-line {
    left: calc(6% + 1.5rem);
    height: 80px;
  }
}

/* ============================================
   Synthesis — Capabilities Closing (Grand Reveal)
   ============================================ */

.synth-section {
  position: relative;
  padding: 100px 0 60px;
  text-align: center;
  overflow: hidden;
  margin-top: 60px;
}

/* ── Anchor Bloom — 1px line expands into light column ── */
.synth-bloom {
  position: absolute;
  top: 0;
  left: 50%;
  width: 1px;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(255, 184, 0, 0.4) 0%,
    rgba(255, 184, 0, 0.1) 40%,
    transparent 100%
  );
  transform: translateX(-50%);
  pointer-events: none;
  z-index: 0;
  transition: width 1.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 1s ease;
}
.synth-section.synth-visible .synth-bloom {
  width: 400px;
  background: radial-gradient(
    ellipse 50% 100% at 50% 0%,
    rgba(255, 184, 0, 0.12) 0%,
    rgba(255, 184, 0, 0.04) 40%,
    transparent 80%
  );
}

/* ── Torch-light — mouse-following atmospheric glow ── */
.synth-torch {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  transition: background 0.3s ease;
}

/* ── Grain — consistent film texture ── */
.synth-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  opacity: 0.04;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='sg'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23sg)'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  animation: grainDrift 0.5s steps(4) infinite;
}

/* ── Module Checksum Corners ── */
.synth-check {
  position: absolute;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 7px;
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.08);
  z-index: 3;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.8s ease 0.6s;
}
.synth-section.synth-visible .synth-check {
  opacity: 1;
}
.synth-check-tl { top: 20px; left: 24px; }
.synth-check-tr { top: 20px; right: 24px; }
.synth-check-bl { bottom: 20px; left: 24px; }
.synth-check-br { bottom: 20px; right: 24px; }

/* ── Content ── */
.synth-content {
  position: relative;
  z-index: 5;
}

/* ── Macro Headline — giant, submerged, chromatic ── */
.synth-headline {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(3.5rem, 12vw, 10rem);
  font-weight: 700;
  line-height: 0.88;
  letter-spacing: -0.04em;
  color: #fdfcf0;
  /* Gradient mask — text partially submerged in ambient light */
  -webkit-mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 1) 55%,
    rgba(0, 0, 0, 0.25) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 1) 0%,
    rgba(0, 0, 0, 1) 55%,
    rgba(0, 0, 0, 0.25) 100%
  );
  /* Chromatic aberration */
  text-shadow:
    0.5px 0 0.5px rgba(255, 184, 0, 0.15),
    -0.5px 0 0.5px rgba(200, 60, 30, 0.1);
  /* Scroll entrance */
  opacity: 0;
  transform: translateY(30px) scale(0.97);
  transition: opacity 0.8s ease, transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}
.synth-section.synth-visible .synth-headline {
  opacity: 1;
  transform: translateY(0) scale(1);
}
.synth-headline-dot {
  color: #ffb800;
}

/* ── Subtext ── */
.synth-sub {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: clamp(0.85rem, 1.4vw, 1.05rem);
  font-weight: 400;
  line-height: 1.75;
  color: #a1a1aa;
  max-width: 480px;
  margin: 36px auto 0;
  /* Staggered entrance */
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.7s ease 0.3s, transform 0.7s ease 0.3s;
}
.synth-section.synth-visible .synth-sub {
  opacity: 1;
  transform: translateY(0);
}

/* ── Tactical Command CTA ── */
.synth-cta-zone {
  margin-top: 48px;
  /* Staggered entrance */
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.7s ease 0.5s, transform 0.7s ease 0.5s;
}
.synth-section.synth-visible .synth-cta-zone {
  opacity: 1;
  transform: translateY(0);
}

.synth-cta {
  --notch: 10px;
  position: relative;
  display: inline-flex;
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  background: rgba(9, 9, 11, 0.8);
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
  text-decoration: none;
  will-change: transform;
  transition: background 0.3s ease;
}
.synth-cta:hover {
  background: rgba(255, 184, 0, 0.06);
}

/* Border glow via mask-composite */
.synth-cta-border {
  position: absolute;
  inset: 0;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(255, 184, 0, 0.35) 0%,
    rgba(255, 184, 0, 0.08) 50%,
    rgba(255, 184, 0, 0.35) 100%
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  z-index: 1;
  transition: background 0.3s ease;
}
.synth-cta:hover .synth-cta-border {
  background: linear-gradient(
    135deg,
    rgba(255, 184, 0, 0.7) 0%,
    rgba(255, 184, 0, 0.2) 50%,
    rgba(255, 184, 0, 0.7) 100%
  );
}

/* Inner content */
.synth-cta-inner {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 18px 36px;
}

/* Status line — pulsing green dot */
.synth-cta-status {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 7px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.25);
  transition: color 0.3s ease;
}
.synth-cta:hover .synth-cta-status {
  color: rgba(253, 252, 240, 0.5);
}
.synth-cta-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: #22c55e;
  box-shadow: 0 0 6px rgba(34, 197, 94, 0.6);
  animation: statusPulse 2s ease-in-out infinite;
}
@keyframes statusPulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 6px rgba(34, 197, 94, 0.6); }
  50% { opacity: 0.5; box-shadow: 0 0 3px rgba(34, 197, 94, 0.3); }
}

/* CTA text */
.synth-cta-text {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.7);
  transition: color 0.3s ease, text-shadow 0.3s ease;
}
.synth-cta:hover .synth-cta-text {
  color: #ffb800;
  text-shadow: 0 0 20px rgba(255, 184, 0, 0.2);
}

/* Hover power-up — visual vibration */
.synth-cta:hover .synth-cta-text {
  animation: ctaHum 0.1s ease-in-out 2;
}
@keyframes ctaHum {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-0.5px); }
  75% { transform: translateX(0.5px); }
}

/* ── Intensified Scan-line — system fully loaded ── */
.synth-scanline {
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 184, 0, 0.12) 15%,
    rgba(253, 252, 240, 0.1) 50%,
    rgba(255, 184, 0, 0.12) 85%,
    transparent 100%
  );
  z-index: 6;
  pointer-events: none;
  animation: synthScanline 4s linear infinite;
}
@keyframes synthScanline {
  0% { top: 0; opacity: 0; }
  10% { opacity: 0.8; }
  90% { opacity: 0.8; }
  100% { top: 100%; opacity: 0; }
}

/* ── Synthesis Mobile ── */
@media (max-width: 768px) {
  .synth-section {
    padding: 60px 0 40px;
    margin-top: 40px;
  }
  .synth-headline {
    font-size: clamp(2.5rem, 15vw, 5rem);
  }
  .synth-sub {
    padding: 0 20px;
  }
  .synth-check {
    display: none;
  }
}

/* ---------- Gradient Text ---------- */
.gradient-text {
  background: linear-gradient(
    144.5deg,
    #ffffff 28%,
    rgba(255, 255, 255, 0) 115%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@supports not (-webkit-background-clip: text) {
  .gradient-text {
    color: #ffffff;
  }
}

/* ---------- Hero — Kinetic Contrast Lens (backdrop-filter behind text only) ---------- */
.hero-text-anchor {
  position: relative;
  /* Floating parallax — subtle desynced drift from background */
  animation: heroFloat 12s ease-in-out infinite;
}
@keyframes heroFloat {
  0%, 100% { transform: translateY(0) translateX(0); }
  25% { transform: translateY(-4px) translateX(1px); }
  50% { transform: translateY(2px) translateX(-1px); }
  75% { transform: translateY(-2px) translateX(2px); }
}
/* Lens layer — sits behind text without affecting layout */
.hero-text-anchor::before {
  content: '';
  position: absolute;
  inset: -40px -60px;
  border-radius: 16px;
  backdrop-filter: blur(4px) brightness(0.85);
  -webkit-backdrop-filter: blur(4px) brightness(0.85);
  pointer-events: none;
  z-index: -1;
  /* Feathered edge so the lens blends into the video */
  -webkit-mask-image: radial-gradient(
    ellipse 100% 100% at 25% 45%,
    rgba(0, 0, 0, 1) 30%,
    rgba(0, 0, 0, 0.6) 60%,
    transparent 85%
  );
  mask-image: radial-gradient(
    ellipse 100% 100% at 25% 45%,
    rgba(0, 0, 0, 1) 30%,
    rgba(0, 0, 0, 0.6) 60%,
    transparent 85%
  );
}

/* Film grain overlay — cinematic texture on text area */
.hero-text-anchor::after {
  content: '';
  position: absolute;
  inset: -20px -40px;
  border-radius: 12px;
  pointer-events: none;
  z-index: 10;
  opacity: 0.035;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
  animation: grainDrift 0.5s steps(4) infinite;
}
@keyframes grainDrift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-2px, 1px); }
  50% { transform: translate(1px, -1px); }
  75% { transform: translate(-1px, 2px); }
  100% { transform: translate(0, 0); }
}

/* ---------- Hero — Live Status Indicator Tag ---------- */
.hero-tag {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.25em;
  text-transform: uppercase;
  color: rgba(229, 229, 231, 0.5);
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.9);
  padding: 0;
  border: none;
  border-radius: 0;
  background: transparent;
}
/* Pulsing neon dot — live status */
.hero-tag-dot {
  display: inline-block;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #ffb800;
  box-shadow:
    0 0 4px rgba(255, 184, 0, 0.9),
    0 0 12px rgba(255, 184, 0, 0.5),
    0 0 24px rgba(255, 184, 0, 0.2);
  animation: statusPulse 2s ease-in-out infinite;
}
@keyframes statusPulse {
  0%, 100% {
    opacity: 1;
    box-shadow:
      0 0 4px rgba(255, 184, 0, 0.9),
      0 0 12px rgba(255, 184, 0, 0.5),
      0 0 24px rgba(255, 184, 0, 0.2);
  }
  50% {
    opacity: 0.6;
    box-shadow:
      0 0 2px rgba(255, 184, 0, 0.6),
      0 0 6px rgba(255, 184, 0, 0.3);
  }
}
.hero-tag-bracket {
  color: rgba(251, 191, 36, 0.6);
  font-weight: 400;
}
.hero-tag-cursor {
  display: none;
}

/* ---------- Hero — Headline ---------- */
.hero-headline {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  max-width: 960px;
  font-size: clamp(3.2rem, 8vw, 7rem);
  line-height: 0.95;
  letter-spacing: -0.02em;
  margin-top: 1.25rem;
  text-wrap: balance;
}
.hero-word {
  display: inline-block;
}

/* Ultra-light — "AI Agents That" — Nuclear White, 0.5px chromatic refraction */
.hero-word-thin {
  font-weight: 200;
  letter-spacing: 0.04em;
  color: #fdfcf0;
  /* Tight dark anchor + 0.5px chromatic split (lens refraction) */
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.95),
    0 0 2px rgba(0, 0, 0, 0.8),
    0 0 6px rgba(0, 0, 0, 0.6),
    0.5px 0 0.5px rgba(255, 184, 0, 0.1),
    -0.5px 0 0.5px rgba(200, 60, 30, 0.08);
  filter:
    drop-shadow(0 1px 1px rgba(0, 0, 0, 1))
    drop-shadow(0 0 3px rgba(0, 0, 0, 0.85));
}

/* Mega-Bold — "Your" — Black weight, dense, backlit by nebula core */
.hero-word-bold {
  font-weight: 700;
  letter-spacing: -0.03em;
  color: #fdfcf0;
  /* Backlit glow: dark anchor + warm Marmalade backlight from nebula */
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.95),
    0 0 2px rgba(0, 0, 0, 0.8),
    0 0 6px rgba(0, 0, 0, 0.6),
    0 0 16px rgba(255, 184, 0, 0.12),
    0 0 40px rgba(196, 154, 26, 0.06),
    0.5px 0 0.5px rgba(255, 184, 0, 0.1),
    -0.5px 0 0.5px rgba(200, 60, 30, 0.08);
  filter:
    drop-shadow(0 1px 1px rgba(0, 0, 0, 1))
    drop-shadow(0 0 3px rgba(0, 0, 0, 0.85));
}

/* ---------- Hero Accent — Liquid Chrome Gold with Motion-Anchoring ---------- */
.hero-accent {
  font-weight: 700;
  letter-spacing: -0.03em;
  background: linear-gradient(
    120deg,
    #8b6914 0%,
    #c49a1a 8%,
    #ffb800 18%,
    #fbbf24 28%,
    #fde68a 38%,
    #fffbeb 50%,
    #fde68a 62%,
    #fbbf24 72%,
    #ffb800 82%,
    #c49a1a 92%,
    #8b6914 100%
  );
  background-size: 300% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  /* Liquid shimmer — larger sweep, slower, feels like light on curved metal */
  animation: liquidShimmer 8s ease-in-out infinite;
  /* Tight dark anchor + warm glow */
  filter:
    drop-shadow(0 1px 1px rgba(0, 0, 0, 1))
    drop-shadow(0 0 3px rgba(0, 0, 0, 0.85))
    drop-shadow(0 0 10px rgba(255, 184, 0, 0.4))
    drop-shadow(0 0 30px rgba(245, 158, 11, 0.15));
  mix-blend-mode: plus-lighter;
}
@keyframes liquidShimmer {
  0% { background-position: 300% center; }
  50% { background-position: 0% center; }
  100% { background-position: 300% center; }
}

/* ---------- Hero — Technical Footnote (micro-grotesque system readout) ---------- */
.hero-footnote {
  position: relative;
  max-width: 460px;
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: clamp(0.75rem, 1.1vw, 0.875rem);
  font-weight: 500;
  line-height: 1.75;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.4);
  margin-top: 2.5rem;
  padding-left: 1.25rem;
  border-left: none;
  padding-left: 1.5rem;
  text-shadow:
    0 1px 2px rgba(0, 0, 0, 0.95),
    0 0 2px rgba(0, 0, 0, 0.7),
    0 0 8px rgba(0, 0, 0, 0.5);
}
/* Left accent bar — simple solid amber line */
.hero-footnote::after {
  content: '';
  position: absolute;
  left: 0;
  top: 4px;
  bottom: 4px;
  width: 2px;
  background: rgba(255, 184, 0, 0.5);
  border-radius: 1px;
}
/* Subtext lens — contrast + darkening specifically behind footnote */
.hero-footnote::before {
  content: '';
  position: absolute;
  inset: -8px -16px;
  border-radius: 6px;
  backdrop-filter: contrast(1.1) brightness(0.9) blur(10px);
  -webkit-backdrop-filter: contrast(1.1) brightness(0.9) blur(10px);
  pointer-events: none;
  z-index: -1;
  -webkit-mask-image: linear-gradient(to right, rgba(0,0,0,0.8) 60%, transparent 100%);
  mask-image: linear-gradient(to right, rgba(0,0,0,0.8) 60%, transparent 100%);
}

/* ---------- Hero CTA — Glass-Chrome with Light Sweep ---------- */
.hero-cta-shimmer {
  position: relative;
  padding: 14px 36px;
  border-radius: 9999px;
  border: 1px solid rgba(253, 252, 240, 0.15);
  background: rgba(253, 252, 240, 0.04);
  backdrop-filter: blur(12px) saturate(1.2);
  -webkit-backdrop-filter: blur(12px) saturate(1.2);
  color: rgba(253, 252, 240, 0.8);
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 13px;
  font-weight: 600;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  text-decoration: none;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}
/* Light sweep — passes across every 5s */
.hero-cta-shimmer::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 9999px;
  background: linear-gradient(
    105deg,
    transparent 0%,
    transparent 40%,
    rgba(255, 184, 0, 0.12) 45%,
    rgba(253, 252, 240, 0.15) 50%,
    rgba(255, 184, 0, 0.12) 55%,
    transparent 60%,
    transparent 100%
  );
  background-size: 300% 100%;
  animation: ctaSweep 5s ease-in-out infinite;
}
@keyframes ctaSweep {
  0%, 80% { background-position: 200% center; }
  90% { background-position: -100% center; }
  100% { background-position: -100% center; }
}
.hero-cta-shimmer:hover {
  color: rgba(255, 184, 0, 0.95);
  border-color: rgba(255, 184, 0, 0.3);
  background: rgba(255, 184, 0, 0.06);
  transform: scale(1.04);
}
.hero-cta-shimmer:active {
  transform: scale(0.97);
}
.hero-cta-label {
  position: relative;
  z-index: 1;
}

/* ---------- Hero CTA — Glassmorphic + Blue Inner Light ---------- */
.hero-cta {
  box-shadow:
    0 0 0 0 rgba(56, 152, 236, 0),
    0 4px 24px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hero-cta:hover {
  border-color: rgba(56, 152, 236, 0.4);
  box-shadow:
    0 0 30px rgba(56, 152, 236, 0.25),
    0 0 60px rgba(56, 152, 236, 0.1),
    0 4px 24px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.15);
}

.hero-cta:active {
  border-color: rgba(56, 152, 236, 0.6);
  box-shadow:
    0 0 40px rgba(56, 152, 236, 0.35),
    0 0 80px rgba(56, 152, 236, 0.15),
    0 2px 12px rgba(0, 0, 0, 0.5),
    inset 0 0 20px rgba(56, 152, 236, 0.15);
}

/* Inner glow layer */
.hero-cta-glow {
  background: radial-gradient(
    ellipse at 50% 50%,
    rgba(56, 152, 236, 0) 0%,
    rgba(56, 152, 236, 0) 100%
  );
  transition: all 0.4s ease;
}

.hero-cta:hover .hero-cta-glow {
  background: radial-gradient(
    ellipse at 50% 80%,
    rgba(56, 152, 236, 0.15) 0%,
    rgba(56, 152, 236, 0) 70%
  );
}

.hero-cta:active .hero-cta-glow {
  background: radial-gradient(
    ellipse at 50% 50%,
    rgba(56, 152, 236, 0.25) 0%,
    rgba(56, 152, 236, 0) 70%
  );
}

/* ---------- Glow Button ---------- */
.glow-button {
  position: relative;
  overflow: hidden;
}

.glow-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: 1px;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 255, 255, 0.6) 0%,
    rgba(255, 255, 255, 0) 70%
  );
  pointer-events: none;
}

.glow-button::after {
  content: '';
  position: absolute;
  top: -50%;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 100%;
  background: radial-gradient(
    ellipse at center,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0) 70%
  );
  pointer-events: none;
}

/* ---------- Staggered Fade-In Animation ---------- */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-up {
  opacity: 0;
  animation: fadeInUp 0.8s ease-out forwards;
}

/* ---------- Floating Particles ---------- */
@keyframes floatParticle {
  0% {
    transform: translateY(100vh) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-10vh) translateX(80px);
    opacity: 0;
  }
}

/* ============================================
   Intelligence Archive — Horizontal Depth Stack
   ============================================ */

.arc-section {
  position: relative;
  background: #000;
  overflow-x: clip;
}

/* ---------- Section Header ---------- */
.arc-header {
  position: relative;
  z-index: 10;
  padding: 96px 24px 0;
  margin-bottom: 0;
}
@media (min-width: 768px) {
  .arc-header { padding: 96px 48px 0; }
}
.arc-section-tag {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #fbbf24;
  display: block;
  margin-bottom: 16px;
}
.arc-section-title {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(2.5rem, 8vw, 5.5rem);
  font-weight: 700;
  line-height: 0.95;
  letter-spacing: -0.03em;
  color: #FDFCF0;
  text-shadow:
    1px 0 0 rgba(255, 50, 50, 0.15),
    -1px 0 0 rgba(50, 100, 255, 0.15);
}

/* ---------- Sticky Scroll + Horizontal Track ---------- */
.arc-sticky-wrapper {
  height: 400vh;
  position: relative;
}
.arc-sticky-frame {
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: visible;
}

/* ---------- Track Overflow Container — clips the 300vw track only ---------- */
.arc-track-overflow {
  position: absolute;
  inset: 0;
  overflow: hidden;
  z-index: 1;
}

/* ---------- Horizontal Scroll Track — 3 panels × 100vw ---------- */
.arc-hscroll-track {
  display: flex;
  width: 300vw;
  height: 100vh;
  will-change: transform;
  transition: none;
}

/* ---------- Chapter Panel — each 100vw ---------- */
.arc-chapter-panel {
  width: 100vw;
  height: 100vh;
  flex-shrink: 0;
  position: relative;
  display: flex;
  align-items: flex-start;
  /* Asymmetric: leave 264px on right for the forensic telemetry sidebar (200w + 32 offset + 32 gap) */
  padding: 80px 264px 0 6vw;
  overflow: hidden;
}
@media (max-width: 768px) {
  .arc-chapter-panel { padding: 64px 20px 0; }
}

/* ---------- Notched Card Container — structural separation from header ---------- */
.arc-dossier-card {
  position: relative;
  z-index: 5;
  width: 100%;
  max-width: 1100px;
  align-self: flex-start;
  background: rgba(9, 9, 11, 0.4);
  border: 1px solid rgba(255, 184, 0, 0.2);
  backdrop-filter: blur(8px);
  clip-path: polygon(15px 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%, 0 15px);
  padding: 48px;
  transition: border-color 0.5s ease;
}
.arc-dossier-card:hover {
  border-color: rgba(255, 184, 0, 0.35);
}
/* Scanline overlay on card */
.arc-dossier-card::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size: 100% 4px;
  opacity: 0.15;
  pointer-events: none;
}
@media (max-width: 768px) {
  .arc-dossier-card { padding: 24px 16px; }
}

/* ---------- Technical Dossier Layout — two columns ---------- */
.arc-dossier {
  position: relative;
  z-index: 5;
  display: flex;
  align-items: flex-start;
  gap: 48px;
  width: 100%;
  height: auto;
  padding: 0;
}

/* Left Column — The Spec */
.arc-spec-col {
  flex: 1 1 0%;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* Right Column — The System */
.arc-system-col {
  flex: 1 1 0%;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

@media (max-width: 768px) {
  .arc-dossier { flex-direction: column; gap: 24px; padding: 60px 0; }
  .arc-system-col { max-width: 100%; }
}
.arc-project-id {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: #fbbf24;
  display: block;
  margin-bottom: 12px;
}
.arc-chapter-idx {
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: 14px;
  font-weight: 600;
  color: rgba(255, 184, 0, 0.5);
  display: block;
  margin-bottom: 8px;
}
.arc-chapter-title {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(1.75rem, 4vw, 2.75rem);
  font-weight: 700;
  line-height: 1.05;
  letter-spacing: -0.02em;
  color: #FDFCF0;
  margin-bottom: 8px;
  text-shadow:
    1px 0 0 rgba(255, 50, 50, 0.15),
    -1px 0 0 rgba(50, 100, 255, 0.15);
}
.arc-chapter-subtitle {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.6);
  display: block;
  margin-bottom: 20px;
}
.arc-chapter-desc {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  font-weight: 400;
  line-height: 1.8;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: #a1a1aa;
  max-width: 400px;
}

/* ---------- Glass Artifact Frame ---------- */
/* ══════════ NEURAL ARCHITECTURE MAP ══════════ */
.arc-neural-map {
  position: relative;
  width: 100%;
  height: 200px;
  background: rgba(9, 9, 11, 0.7);
  border-radius: 8px;
  border: 1px solid rgba(255, 184, 0, 0.25);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  overflow: hidden;
  padding: 12px;
  box-shadow: 0 0 30px rgba(255, 184, 0, 0.04), inset 0 0 40px rgba(255, 184, 0, 0.02);
}
.arc-map-header {
  position: absolute;
  top: 12px;
  left: 12px;
  font-family: 'JetBrains Mono', 'SF Mono', monospace;
  font-size: 8px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.7);
  z-index: 2;
}
.arc-map-grid {
  position: absolute;
  inset: 0;
  background:
    linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
  background-size: 20px 20px;
}
.arc-map-svg {
  width: 100%;
  height: 100%;
  position: relative;
  z-index: 1;
}
.arc-map-pulse {
  stroke-dasharray: 500;
  stroke-dashoffset: 500;
  animation: mapPulse 2.5s ease-in-out infinite;
}
@keyframes mapPulse {
  0% { stroke-dashoffset: 500; opacity: 0; }
  30% { opacity: 1; }
  70% { opacity: 1; }
  100% { stroke-dashoffset: 0; opacity: 0; }
}

/* Node pulse rings — fire when data line reaches node */
.arc-map-node-ring {
  opacity: 0;
  animation: nodeRingPulse 2.5s ease-out infinite;
}
@keyframes nodeRingPulse {
  0%, 40% { opacity: 0; }
  50% { opacity: 0.7; stroke-width: 2; }
  70% { opacity: 0.3; stroke-width: 1; }
  100% { opacity: 0; stroke-width: 0.5; }
}
.arc-map-node-core {
  animation: nodeCoreFlash 2.5s ease-in-out infinite;
}
@keyframes nodeCoreFlash {
  0%, 40% { filter: none; }
  50% { filter: url(#nm-glow) brightness(2); }
  65% { filter: url(#nm-glow) brightness(1.2); }
  80%, 100% { filter: none; }
}

/* ══════════ SCANNING FRAME ══════════ */
.arc-scan-frame {
  --notch: 10px;
  position: relative;
  width: 100%;
  height: 120px;
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  overflow: hidden;
}
.arc-scan-border {
  position: absolute;
  inset: 0;
  padding: 1px;
  background: conic-gradient(
    from 45deg,
    rgba(255, 184, 0, 0.25) 0deg,
    rgba(255, 184, 0, 0.04) 90deg,
    rgba(255, 184, 0, 0.25) 180deg,
    rgba(255, 184, 0, 0.04) 270deg,
    rgba(255, 184, 0, 0.25) 360deg
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}
.arc-scan-content {
  position: absolute;
  inset: 1px;
  background: rgba(9, 9, 11, 0.85);
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: hidden;
}
.arc-scan-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 14px 4px;
  border-bottom: 1px solid rgba(255, 184, 0, 0.08);
  flex-shrink: 0;
}
.arc-output-feed {
  flex: 1;
  overflow: hidden;
  position: relative;
  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 18%,
    black 82%,
    transparent 100%
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    black 18%,
    black 82%,
    transparent 100%
  );
}
.arc-output-feed-track {
  display: flex;
  flex-direction: column;
  gap: 3px;
  padding: 6px 14px;
  animation: outputScroll 18s linear infinite;
}
.arc-output-line {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 6.5px;
  line-height: 1.5;
  letter-spacing: 0.04em;
  color: rgba(255, 184, 0, 0.55);
  white-space: nowrap;
}
.arc-output-line:nth-child(3n) {
  color: rgba(253, 252, 240, 0.25);
}
.arc-output-line:nth-child(5n) {
  color: rgba(124, 180, 232, 0.3);
}
@keyframes outputScroll {
  0% { transform: translateY(0); }
  100% { transform: translateY(-50%); }
}
.arc-scan-label {
  font-family: 'JetBrains Mono', 'SF Mono', monospace;
  font-size: 7px;
  letter-spacing: 0.2em;
  color: rgba(255, 184, 0, 0.5);
  text-transform: uppercase;
}
.arc-scan-id {
  font-family: 'JetBrains Mono', 'SF Mono', monospace;
  font-size: 6px;
  letter-spacing: 0.15em;
  color: rgba(161, 161, 170, 0.3);
  text-transform: uppercase;
}

/* ══════════ MAGNETIC CTA BUTTON ══════════ */
/* ═══ NUCLEAR LOCK-ON TARGETING BUTTON ═══ */
.lock-wrapper {
  --dot-size: 4px;
  --line-weight: 1px;
  --line-gap: 4px 6px;
  --speed: 0.2s;
  --dot-color: #FFB800;
  --line-color: rgba(255, 184, 0, 0.5);
  --bg-glow: rgba(255, 184, 0, 0.05);

  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  padding: var(--line-gap);
  margin-top: 28px;
  background-color: transparent;
  transition: background-color 0.3s ease-in-out;
  user-select: none;
}

/* Ambient glow on lock-on */
.lock-wrapper:has(.lock-btn:hover) {
  animation: lockBgGlow calc(var(--speed) * 4) ease-in-out forwards;
}
@keyframes lockBgGlow {
  80% { background-color: transparent; }
  100% { background-color: var(--bg-glow); }
}

/* ── THE BUTTON CORE ── */
.lock-btn {
  position: relative;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  padding: 14px 28px;
  background: rgba(10, 10, 10, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 184, 0, 0.2);
  color: #FDFCF0;
  font-family: 'JetBrains Mono', 'SF Mono', monospace;
  font-size: 0.7rem;
  letter-spacing: 0.12em;
  font-weight: 600;
  text-transform: uppercase;
  cursor: pointer;
  clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
  transition: all 0.2s ease-in-out;
}
.lock-btn:hover {
  background: rgba(255, 184, 0, 0.1);
  border-color: rgba(255, 184, 0, 0.8);
  text-shadow: 0 0 8px rgba(255, 252, 240, 0.5);
  box-shadow: 0 0 20px rgba(255, 184, 0, 0.2) inset;
}
.lock-btn:active {
  transform: scale(0.98);
}
.lock-text {
  transition: text-shadow 0.2s ease;
}
.lock-arrow {
  stroke-width: 1.5;
  stroke: #A1A1AA;
  fill: none;
  transition: all 0.3s ease-in-out;
}
.lock-btn:hover .lock-arrow {
  stroke: #FFB800;
  filter: drop-shadow(0 0 5px rgba(255, 184, 0, 0.5));
}

/* ── CORNER TARGETING DOTS ── */
.lock-dot {
  position: absolute;
  width: var(--dot-size);
  height: var(--dot-size);
  background-color: var(--dot-color);
  box-shadow: 0 0 6px var(--dot-color);
  opacity: 0;
  z-index: 2;
}
/* Start positions — center of each edge, animate to corners */
.lock-dot-tl { top: 50%; left: 20%; }
.lock-dot-tr { top: 50%; right: 20%; }
.lock-dot-br { bottom: 50%; right: 20%; }
.lock-dot-bl { bottom: 50%; left: 20%; }

.lock-wrapper:has(.lock-btn:hover) .lock-dot-tl {
  animation: dotTL var(--speed) ease-in-out forwards;
}
.lock-wrapper:has(.lock-btn:hover) .lock-dot-tr {
  animation: dotTR var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 0.6);
}
.lock-wrapper:has(.lock-btn:hover) .lock-dot-br {
  animation: dotBR var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 1.2);
}
.lock-wrapper:has(.lock-btn:hover) .lock-dot-bl {
  animation: dotBL var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 1.8);
}

@keyframes dotTL {
  90% { opacity: 0.6; }
  100% { top: calc(var(--dot-size) * -0.5); left: calc(var(--dot-size) * -0.5); opacity: 1; }
}
@keyframes dotTR {
  80% { opacity: 0.6; }
  100% { top: calc(var(--dot-size) * -0.5); right: calc(var(--dot-size) * -0.5); opacity: 1; }
}
@keyframes dotBR {
  80% { opacity: 0.6; }
  100% { bottom: calc(var(--dot-size) * -0.5); right: calc(var(--dot-size) * -0.5); opacity: 1; }
}
@keyframes dotBL {
  80% { opacity: 0.6; }
  100% { bottom: calc(var(--dot-size) * -0.5); left: calc(var(--dot-size) * -0.5); opacity: 1; }
}

/* ── BOUNDING BOX LINES — draw sequentially ── */
.lock-line {
  position: absolute;
  background-color: var(--line-color);
  box-shadow: 0 0 5px var(--line-color);
  z-index: 1;
}
.lock-line-top, .lock-line-bottom {
  height: var(--line-weight);
  width: 100%;
  left: 0;
}
.lock-line-left, .lock-line-right {
  width: var(--line-weight);
  height: 100%;
  top: 0;
}
.lock-line-top { top: calc(var(--line-weight) * -0.5); transform-origin: left; transform: scaleX(0); }
.lock-line-right { right: calc(var(--line-weight) * -0.5); transform-origin: top; transform: scaleY(0); }
.lock-line-bottom { bottom: calc(var(--line-weight) * -0.5); transform-origin: right; transform: scaleX(0); }
.lock-line-left { left: calc(var(--line-weight) * -0.5); transform-origin: bottom; transform: scaleY(0); }

.lock-wrapper:has(.lock-btn:hover) .lock-line-top {
  animation: lockDraw var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 0.8);
}
.lock-wrapper:has(.lock-btn:hover) .lock-line-right {
  animation: lockDraw var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 1.4);
}
.lock-wrapper:has(.lock-btn:hover) .lock-line-bottom {
  animation: lockDraw var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 2.0);
}
.lock-wrapper:has(.lock-btn:hover) .lock-line-left {
  animation: lockDraw var(--speed) ease-in-out forwards;
  animation-delay: calc(var(--speed) * 2.4);
}
@keyframes lockDraw {
  100% { transform: scaleX(1) scaleY(1); }
}

/* ══════════ CHROMATIC ABERRATION — hover on titles ══════════ */
.arc-chapter-title:hover {
  text-shadow:
    1px 0 0 rgba(255, 0, 0, 0.3),
    -1px 0 0 rgba(0, 255, 255, 0.3),
    0 0 20px rgba(255, 184, 0, 0.1);
}

/* ---------- Forensic Telemetry — live scrolling sidebar ---------- */
.arc-telemetry {
  --notch: 10px;
  position: absolute;
  top: 80px;
  right: 32px;
  width: 200px;
  z-index: 10;
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
}
@media (max-width: 768px) {
  .arc-telemetry { display: none; }
}
.arc-telemetry-border {
  position: absolute;
  inset: 0;
  padding: 1px;
  background: conic-gradient(
    from 45deg,
    rgba(255, 184, 0, 0.4) 0deg,
    rgba(255, 184, 0, 0.12) 90deg,
    rgba(255, 184, 0, 0.4) 180deg,
    rgba(255, 184, 0, 0.12) 270deg,
    rgba(255, 184, 0, 0.4) 360deg
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}
.arc-telemetry-inner {
  padding: 16px 12px;
  background: rgba(9, 9, 11, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}
.arc-telemetry-label {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 7px;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.85);
  display: block;
  margin-bottom: 8px;
}
.arc-telemetry-divider {
  width: 100%;
  height: 1px;
  background: rgba(255, 184, 0, 0.18);
  margin: 8px 0;
}
.arc-telemetry-line {
  margin-bottom: 4px;
}
.arc-telemetry-text {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 8px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.75);
}
/* Live-scrolling telemetry feed */
.arc-telemetry-feed {
  height: 80px;
  overflow: hidden;
  position: relative;
}
.arc-telemetry-feed-track {
  display: flex;
  flex-direction: column;
  gap: 4px;
  animation: telemetryScroll 15s linear infinite;
}
.arc-telemetry-feed-line {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 7px;
  font-weight: 400;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.4);
  white-space: nowrap;
}
@keyframes telemetryScroll {
  0% { transform: translateY(0); }
  100% { transform: translateY(-50%); }
}
.arc-telemetry-bar {
  margin-top: 6px;
  height: 2px;
  background: rgba(255, 184, 0, 0.2);
  border-radius: 1px;
  overflow: hidden;
}
.arc-telemetry-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #fbbf24, #f59e0b);
  transition: width 0.15s ease-out;
}

/* ---------- Chapter Indicators ---------- */
.arc-indicators {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 12px;
  z-index: 10;
}
.arc-indicator {
  width: 24px;
  height: 2px;
  background: rgba(253, 252, 240, 0.15);
  transition: all 0.4s ease;
}
.arc-indicator-active {
  width: 48px;
  background: #fbbf24;
}

/* ---------- Ghost Index — massive chapter number ---------- */
.arc-ghost-idx {
  position: absolute;
  left: 5%;
  bottom: 10%;
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: clamp(150px, 20vw, 280px);
  font-weight: 700;
  line-height: 1;
  letter-spacing: -0.04em;
  color: rgba(253, 252, 240, 0.02);
  pointer-events: none;
  z-index: 1;
  user-select: none;
}

/* ---------- Ghost Text — scattered system notes ---------- */
.arc-ghost {
  position: absolute;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 6px;
  font-weight: 400;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.025);
  pointer-events: none;
  z-index: 1;
  user-select: none;
  white-space: nowrap;
}

/* ---------- Atmospheric — grain, scanline, anchor, flare ---------- */
.arc-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 8;
  opacity: 0.04;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)'/%3E%3C/svg%3E");
  background-size: 256px 256px;
  animation: grainDrift 0.5s steps(4) infinite;
}
.arc-scanline {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(255, 184, 0, 0.06), transparent);
  z-index: 9;
  pointer-events: none;
  animation: scanlineDrift 8s linear infinite;
}
.arc-anchor-line {
  display: none;
}
.arc-lens-flare {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  transition: background 0.3s ease;
}

/* ---------- Archive Mobile ---------- */
@media (max-width: 768px) {
  .arc-header { padding: 64px 20px 0; }
  .arc-ghost-idx { font-size: 100px; left: 2%; }
  .arc-telemetry { display: none; }
  .arc-indicators { bottom: 24px; }
}

/* ============================================
   Manifesto — Sovereign AI Declaration
   ============================================ */

/* ---------- Atmosphere ---------- */
.mfst-nebula {
  position: absolute;
  inset: -20% 0;
  pointer-events: none;
  z-index: 1;
  will-change: transform;
  background:
    radial-gradient(ellipse 60% 40% at 70% 30%, rgba(255, 184, 0, 0.04) 0%, transparent 70%),
    radial-gradient(ellipse 50% 50% at 20% 70%, rgba(255, 184, 0, 0.03) 0%, transparent 60%);
}
.mfst-scanline {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent 0%, rgba(255, 184, 0, 0.08) 20%,
    rgba(253, 252, 240, 0.06) 50%, rgba(255, 184, 0, 0.08) 80%,
    transparent 100%
  );
  z-index: 6;
  pointer-events: none;
  animation: scanlineDrift 8s linear infinite;
}
.mfst-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  opacity: 0.05;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
  animation: grainDrift 0.5s steps(4) infinite;
}

/* ---------- Section Tag ---------- */
.mfst-section-tag {
  display: inline-block;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #fbbf24;
}

/* ---------- Hook Headline ---------- */
.mfst-hook-block {
  max-width: 1080px;
  margin: 0 auto 60px;
  text-align: center;
}
.mfst-hook-headline {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(2.8rem, 9vw, 6.5rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 0.95;
  color: #FDFCF0;
  text-shadow:
    1px 0 0 rgba(255, 50, 50, 0.15),
    -1px 0 0 rgba(50, 100, 255, 0.15);
}
.mfst-hook-accent {
  color: #fbbf24;
  text-shadow:
    0 0 30px rgba(255, 184, 0, 0.3),
    0 0 60px rgba(255, 184, 0, 0.12);
}

/* ---------- Thesis Briefing Frame ---------- */
.mfst-thesis-block {
  max-width: 720px;
  margin: 0 auto 80px;
}
.mfst-thesis-frame {
  --notch: 10px;
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  background: rgba(9, 9, 11, 0.4);
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
  padding: 32px 28px;
}
.mfst-thesis-label {
  display: block;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.7);
  margin-bottom: 16px;
}
.mfst-thesis-text {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 15px;
  font-weight: 400;
  line-height: 1.75;
  color: #a1a1aa;
}
.mfst-thesis-footer {
  display: block;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 8px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.7);
  text-align: right;
  margin-top: 16px;
}

/* ---------- Pillar Grid ---------- */
.mfst-pillar-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 28px;
  max-width: 1080px;
  margin: 0 auto;
}

/* ---------- Pillar Card ---------- */
.mfst-card {
  --notch: 15px;
  position: relative;
  overflow: hidden;
  background: rgba(9, 9, 11, 0.5);
  backdrop-filter: blur(30px) saturate(1.6);
  -webkit-backdrop-filter: blur(30px) saturate(1.6);
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  transition:
    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
    backdrop-filter 0.4s ease;
  will-change: transform;
}
.mfst-card:hover {
  transform: translateY(-3px) scale(1.01);
  backdrop-filter: blur(40px) saturate(1.8) brightness(0.75);
  -webkit-backdrop-filter: blur(40px) saturate(1.8) brightness(0.75);
}

/* Light leak on hover */
.mfst-card::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 10;
  opacity: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 184, 0, 0.2) 50%,
    transparent 100%
  );
}
.mfst-card:hover::after {
  animation: lightLeak 0.25s ease-out;
}

/* Ghost index */
.mfst-ghost-idx {
  position: absolute;
  right: 20px;
  bottom: -20px;
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(120px, 15vw, 200px);
  font-weight: 700;
  line-height: 1;
  letter-spacing: -0.04em;
  color: rgba(253, 252, 240, 0.03);
  pointer-events: none;
  z-index: 0;
  user-select: none;
  transition: color 0.5s ease;
}
.mfst-card:hover .mfst-ghost-idx {
  color: rgba(255, 184, 0, 0.05);
}

/* Bracket corner frames */
.mfst-bracket {
  position: absolute;
  width: 16px;
  height: 16px;
  z-index: 5;
  pointer-events: none;
  opacity: 0.2;
  transition: opacity 0.3s ease;
}
.mfst-card:hover .mfst-bracket {
  opacity: 0.5;
}
.mfst-bracket-tl {
  top: 8px; left: 8px;
  border-top: 1px solid rgba(253, 252, 240, 0.4);
  border-left: 1px solid rgba(253, 252, 240, 0.4);
}
.mfst-bracket-tr {
  top: 8px; right: 8px;
  border-top: 1px solid rgba(253, 252, 240, 0.4);
  border-right: 1px solid rgba(253, 252, 240, 0.4);
}
.mfst-bracket-bl {
  bottom: 8px; left: 8px;
  border-bottom: 1px solid rgba(253, 252, 240, 0.4);
  border-left: 1px solid rgba(253, 252, 240, 0.4);
}
.mfst-bracket-br {
  bottom: 8px; right: 8px;
  border-bottom: 1px solid rgba(253, 252, 240, 0.4);
  border-right: 1px solid rgba(253, 252, 240, 0.4);
}

/* Glow border */
.mfst-border {
  position: absolute;
  inset: 0;
  padding: 1px;
  background: conic-gradient(
    from 45deg,
    rgba(255, 184, 0, 0.35) 0deg,
    rgba(255, 184, 0, 0.06) 45deg,
    rgba(253, 252, 240, 0.04) 90deg,
    rgba(255, 184, 0, 0.06) 135deg,
    rgba(255, 184, 0, 0.35) 180deg,
    rgba(255, 184, 0, 0.06) 225deg,
    rgba(253, 252, 240, 0.04) 270deg,
    rgba(255, 184, 0, 0.06) 315deg,
    rgba(255, 184, 0, 0.35) 360deg
  );
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  z-index: 3;
  opacity: 0.6;
  transition: opacity 0.4s ease;
}
.mfst-card:hover .mfst-border {
  opacity: 1;
}

/* Mouse-tracking glow */
.mfst-glow {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  transition: background 0.3s ease;
}

/* Glass noise overlay */
.mfst-noise {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  opacity: 0.05;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
}

/* Per-card scanline */
.mfst-card-scanline {
  position: absolute;
  left: 0; right: 0;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent 0%, rgba(253, 252, 240, 0.04) 30%,
    rgba(255, 184, 0, 0.06) 50%, rgba(253, 252, 240, 0.04) 70%,
    transparent 100%
  );
  z-index: 6;
  pointer-events: none;
  opacity: 0.5;
  animation: cardScanline 5s linear infinite;
}

/* Progress bar */
.mfst-progress-bar {
  position: absolute;
  top: 0; left: 0;
  height: 1px;
  width: 0%;
  background: linear-gradient(
    to right,
    rgba(255, 184, 0, 0.6) 0%,
    rgba(255, 184, 0, 0.3) 80%,
    transparent 100%
  );
  z-index: 7;
  pointer-events: none;
  transition: none;
}
.mfst-card.mfst-visible .mfst-progress-bar {
  animation: borderDraw 1.2s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
}

/* Content */
.mfst-content {
  position: relative;
  z-index: 4;
  padding: 32px 28px 28px;
  display: flex;
  flex-direction: column;
  min-height: 320px;
}

/* Pillar tag */
.mfst-pillar-tag {
  display: block;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.85);
  margin-bottom: 16px;
}

/* Pillar subtitle */
.mfst-pillar-subtitle {
  font-family: 'Clash Display', 'General Sans', system-ui, sans-serif;
  font-size: clamp(1.1rem, 2vw, 1.4rem);
  font-weight: 600;
  letter-spacing: -0.02em;
  line-height: 1.2;
  color: #FDFCF0;
  margin-bottom: 16px;
  transition: text-shadow 0.3s ease;
}
.mfst-card:hover .mfst-pillar-subtitle {
  text-shadow:
    0 0 20px rgba(255, 184, 0, 0.15),
    0 0 40px rgba(255, 184, 0, 0.06);
  animation: chromFlick 0.15s ease-out;
}

/* Pillar description */
.mfst-pillar-desc {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.65;
  color: #a1a1aa;
  margin-top: auto;
  transition: color 0.3s ease;
}
.mfst-card:hover .mfst-pillar-desc {
  color: #c4c4cc;
}

/* Bottom hover bar */
.mfst-hover-bar {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 48px;
  height: 1px;
  background: rgba(255, 184, 0, 0.25);
  transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1), background 0.3s ease;
  z-index: 5;
}
.mfst-card:hover .mfst-hover-bar {
  width: 100%;
  background: rgba(255, 184, 0, 0.5);
}

/* ---------- Manifesto Mobile ---------- */
@media (max-width: 768px) {
  .mfst-pillar-grid {
    grid-template-columns: 1fr;
  }
  .mfst-content {
    padding: 24px 20px 20px;
    min-height: auto;
  }
}

/* ============================================
   IntakeTerminal — Secure Routing Modal
   ============================================ */

/* ── Overlay ── */
.itk-overlay {
  position: fixed;
  inset: 0;
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(9, 9, 11, 0.92);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  padding: 24px;
  overflow-y: auto;
}

/* ── Header Bar ── */
.itk-header {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 28px 32px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid rgba(255, 184, 0, 0.08);
  pointer-events: none;
  z-index: 10;
}
.itk-header-label {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.7);
}
.itk-abort-btn {
  pointer-events: auto;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  letter-spacing: 0.15em;
  color: rgba(253, 252, 240, 0.4);
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: color 0.3s ease;
}
.itk-abort-btn:hover {
  color: #FFB800;
}
.itk-abort-x {
  font-size: 22px;
  transition: transform 0.3s ease;
}

/* ── Container ── */
.itk-container {
  width: 100%;
  max-width: 960px;
  position: relative;
}

/* ── Selection View ── */
.itk-select-view {
  text-align: center;
}
.itk-title {
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: clamp(2.5rem, 7vw, 4.5rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 0.95;
  color: #FDFCF0;
  margin-bottom: 20px;
  text-shadow:
    1px 0 0 rgba(255, 50, 50, 0.12),
    -1px 0 0 rgba(50, 100, 255, 0.12);
}
.itk-subtitle {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.4);
  max-width: 520px;
  margin: 0 auto 56px;
}

/* ── Route Grid ── */
.itk-route-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
  text-align: left;
}
@media (max-width: 768px) {
  .itk-route-grid {
    grid-template-columns: 1fr;
  }
}

/* ── Route Cards ── */
.itk-route-card {
  --notch: 15px;
  position: relative;
  background: rgba(24, 24, 27, 0.5);
  border: 1px solid rgba(253, 252, 240, 0.08);
  padding: 40px;
  cursor: pointer;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 300px;
  clip-path: polygon(
    var(--notch) 0, 100% 0,
    100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%,
    0 100%, 0 var(--notch)
  );
  transition: border-color 0.35s ease, background 0.35s ease;
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
}
.itk-route-card:hover {
  border-color: rgba(255, 184, 0, 0.4);
  background: rgba(24, 24, 27, 0.7);
}

/* Scanline overlay on hover */
.itk-route-scanlines {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    rgba(255, 184, 0, 0.025) 1px,
    transparent 1px
  );
  background-size: 100% 4px;
  opacity: 0;
  transition: opacity 0.35s ease;
  pointer-events: none;
}
.itk-route-card:hover .itk-route-scanlines {
  opacity: 1;
}

.itk-route-content {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
}
.itk-route-title {
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: clamp(1.6rem, 3vw, 2rem);
  font-weight: 700;
  color: #FDFCF0;
  margin-bottom: 8px;
  transition: color 0.3s ease;
}
.itk-route-card:hover .itk-route-title {
  color: #FFB800;
}
.itk-route-tag {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.35);
  margin-bottom: 20px;
}
.itk-route-desc {
  font-family: 'General Sans', system-ui, sans-serif;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.7;
  color: rgba(253, 252, 240, 0.5);
}

/* CTA line at bottom of card */
.itk-route-cta {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 12px;
  font-weight: 700;
  color: #FFB800;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 28px;
}
.itk-route-cta--dim {
  color: rgba(253, 252, 240, 0.35);
  transition: color 0.3s ease;
}
.itk-route-card:hover .itk-route-cta--dim {
  color: #FFB800;
}

/* Pulse dot */
.itk-pulse-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #FFB800;
  animation: itkPulse 2s ease-in-out infinite;
  flex-shrink: 0;
}
.itk-pulse-dot--lg {
  width: 14px;
  height: 14px;
}
@keyframes itkPulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(255, 184, 0, 0.5); }
  50% { opacity: 0.7; box-shadow: 0 0 0 6px rgba(255, 184, 0, 0); }
}

/* ── Back Button ── */
.itk-back-btn {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  font-weight: 400;
  letter-spacing: 0.1em;
  color: rgba(253, 252, 240, 0.4);
  background: none;
  border: none;
  cursor: pointer;
  margin-bottom: 28px;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: color 0.3s ease;
}
.itk-back-btn:hover {
  color: #FFB800;
}

/* ── Shared Panel (Form / Calendar) ── */
.itk-panel {
  --notch: 15px;
  background: rgba(24, 24, 27, 0.5);
  border: 1px solid rgba(253, 252, 240, 0.08);
  padding: 40px;
  backdrop-filter: blur(20px) saturate(1.4);
  -webkit-backdrop-filter: blur(20px) saturate(1.4);
  clip-path: polygon(
    var(--notch) 0, 100% 0,
    100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%,
    0 100%, 0 var(--notch)
  );
}
.itk-panel--calendar {
  border-color: rgba(255, 184, 0, 0.2);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 500px;
}
.itk-panel-header {
  border-bottom: 1px solid rgba(253, 252, 240, 0.06);
  padding-bottom: 28px;
  margin-bottom: 28px;
}
.itk-panel-title {
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: clamp(1.5rem, 4vw, 2rem);
  font-weight: 700;
  color: #FDFCF0;
  margin-bottom: 8px;
}
.itk-panel-sub {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255, 184, 0, 0.6);
}

/* ── Form Layout ── */
.itk-form {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}
@media (max-width: 768px) {
  .itk-form {
    grid-template-columns: 1fr;
  }
}

/* ── Inputs ── */
.itk-input {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 13px;
  font-weight: 400;
  letter-spacing: 0.05em;
  color: #FDFCF0;
  background: rgba(9, 9, 11, 0.8);
  border: 1px solid rgba(253, 252, 240, 0.1);
  padding: 16px;
  outline: none;
  width: 100%;
  transition: border-color 0.3s ease;
}
.itk-input::placeholder {
  color: rgba(253, 252, 240, 0.3);
}
.itk-input:focus {
  border-color: #FFB800;
}
.itk-textarea {
  grid-column: 1 / -1;
  resize: none;
}

/* ── Scope Vector ── */
.itk-scope-block {
  grid-column: 1 / -1;
}
.itk-scope-label {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.45);
  margin-bottom: 12px;
}
.itk-scope-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}
@media (max-width: 640px) {
  .itk-scope-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
.itk-scope-option {
  cursor: pointer;
}
.itk-scope-tile {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  text-align: center;
  color: rgba(253, 252, 240, 0.4);
  background: rgba(9, 9, 11, 0.8);
  border: 1px solid rgba(253, 252, 240, 0.1);
  padding: 14px 8px;
  transition: border-color 0.3s ease, color 0.3s ease, background 0.3s ease;
}
.itk-scope-tile:hover {
  border-color: rgba(253, 252, 240, 0.25);
  color: rgba(253, 252, 240, 0.6);
}
.itk-scope-tile--active {
  border-color: #FFB800;
  color: #FFB800;
  background: rgba(255, 184, 0, 0.06);
}

/* ── Submit Button ── */
.itk-submit-btn {
  grid-column: 1 / -1;
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 13px;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #09090b;
  background: #FFB800;
  border: none;
  padding: 18px;
  cursor: pointer;
  transition: background 0.3s ease, color 0.3s ease;
}
.itk-submit-btn:hover {
  background: #FDFCF0;
}

/* ── Calendar View ── */
.itk-calendar-header {
  text-align: center;
  margin-bottom: 32px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}
.itk-calendar-title {
  font-family: 'Clash Display', system-ui, sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: #FDFCF0;
}
.itk-calendar-sub {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 10px;
  font-weight: 400;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(253, 252, 240, 0.4);
}
.itk-calendar-slot {
  width: 100%;
  min-height: 300px;
  border: 1px dashed rgba(253, 252, 240, 0.08);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
  background: rgba(9, 9, 11, 0.5);
}
.itk-calendar-placeholder {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 11px;
  color: rgba(253, 252, 240, 0.2);
  text-align: center;
}


/* ============================================
   SystemFooter — Secure Channel CTA
   ============================================ */

.sys-footer {
  position: relative;
  background: #000;
  overflow: hidden;
}

/* Grain overlay — matches nav-grain for consistency */
.sys-footer-grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0.03;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-size: 128px 128px;
}

/* ── CTA Button Grid ── */
.sys-footer-cta-grid {
  display: flex;
  justify-content: center;
  width: 100%;
}
.sys-footer-cta-btn {
  --notch: 12px;
  position: relative;
  display: flex;
  align-items: center;
  gap: 14px;
  clip-path: polygon(
    var(--notch) 0%, calc(100% - var(--notch)) 0%,
    100% var(--notch), 100% calc(100% - var(--notch)),
    calc(100% - var(--notch)) 100%, var(--notch) 100%,
    0% calc(100% - var(--notch)), 0% var(--notch)
  );
  background: rgba(255, 184, 0, 0.08);
  border: none;
  padding: 20px 40px;
  cursor: pointer;
  transition: background 0.3s ease, box-shadow 0.3s ease;
}
.sys-footer-cta-btn:hover {
  background: rgba(255, 184, 0, 0.15);
  box-shadow: 0 0 30px rgba(255, 184, 0, 0.12);
}
.sys-footer-cta-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #FFB800;
  animation: itkPulse 2s ease-in-out infinite;
  flex-shrink: 0;
}
.sys-footer-cta-label {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 13px;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: #FFB800;
}
.sys-footer-cta-arrow {
  font-size: 18px;
  color: #FFB800;
  transition: transform 0.3s ease;
}

/* Divider between CTA and bottom bar */
.sys-footer-divider {
  width: 100%;
  height: 1px;
  background: linear-gradient(
    to right,
    transparent 0%,
    rgba(255, 184, 0, 0.12) 20%,
    rgba(255, 184, 0, 0.12) 80%,
    transparent 100%
  );
}

/* Bottom bar — mirrors NavMenu layout, but static positioning */
.sys-footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24px 0;
}

/* Footer-scoped brightness overrides */
.sys-footer .nav-social-link {
  color: rgba(253, 252, 240, 0.5);
}
.sys-footer .nav-social-link:hover {
  color: rgba(255, 184, 0, 0.9);
}
.sys-footer .nav-status-text {
  font-size: 10px;
  color: rgba(253, 252, 240, 0.5);
}
.sys-footer .nav-status-divider {
  font-size: 10px;
  color: rgba(253, 252, 240, 0.35);
}

@media (max-width: 640px) {
  .sys-footer-bottom {
    flex-direction: column;
    gap: 16px;
    align-items: flex-start;
  }
}

/* ---------- Reduced Motion ---------- */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
